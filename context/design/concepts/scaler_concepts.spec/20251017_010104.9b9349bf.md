---
timestamp: 'Fri Oct 17 2025 01:01:04 GMT-0400 (Eastern Daylight Time)'
content_id: 9b9349bf845759d84b5286a2b7f47b49c76a1dd2b347c1780fba92fa986d666d
---

# file: design/concepts/scaler_concepts.spec

```
<concept_spec>
concept Scaler

purpose
    manages an instance of a Recipe being scaled by a certain factor

principle given a recipe name to search in database of recipes
          uses the LLM to scale the recipe with the entire recipe as context
          stores the scaled number of ingredients to be accessed by the user later

state
    a set of scaledRecipes
        a name
        a number of servings
        a set of ingredients

actions
    scaleManually (name: String, targetPeople: number): (result: List[Ingredient])
        requires name to be in database of Recipes and targetPeople to not equal number of servings of Recipe
        effect returns and stores the list of ingredients after each being scaled linearly according to the scale factor
        
    scaleRecipeAI (name: String, targetPeople: number): (result: List[Ingredient])
        requires name to be in database of recipes and targetPeople to not equal number of servings of Recipe
        effect inputs the entire recipe in an LLM to use as context when deciding how much to scale each ingredient and returns and stores list of ingredients

    getScaledRecipe (name: String, targetPeople: number): (result: List[Ingredient])
        requires name and targetPeople to be in database of scaled recipes
        effect returns list of ingredients of the recipe in the database


concept Recipe

purpose
    stores an original recipe

principle recipe manually inputted or uploaded with original ingredients and number of people
          stores recipes to be accessed by scaler

state
    a set of recipes
        an ID
        an author
        a unique name
        a number of servings
        a set of cooking methods
        a set of ingredients
            a quantity
            a unit
            a scaling context

actions
    addRecipe (author: string, name: String, originalPeople: Number, targetPeople: number, ingredients: List[Ingredient], cookingMethods: List[String]): (recipeID: String)
        requires targetPeople to be a whole number and name to be unique
        effect creates a scale factor based on the original number of people and the target amount and enters this recipe into the set of recipes. Optional cooking methods can be added to be associated with the recipe. returns recipe ID

    removeRecipe (name: String): ()
        requires name to be in set of recipes
        effect removes recipe from scaler

    getRecipeById (id: String): (recipe: Recipe)
        requires id to be in set of recipes
        effect returns associated recipe

    getRecipesByAuthor (author: String): (recipes: List[Recipe])
        requires author to be in set of recipes
        effect returns all recipes added by that author

    getRecipeByName (name: String, author: string): (recipe: Recipe)
        requires name and author to be in set of recipes
        effect returns recipe with that name created by that author


concept ScalingTips

purpose
    manages and stores context specific tips for cooking methods inputted by the user

principle given a cooking method, the tip scaler will generate tips on scaling up/down
          these tips can be inserted manually as a fallback or by an LLM typically

state
    a map of cooking methods to a set of tips. tips contain:
        the tip
        scale up/down
        optional recipe name for context

actions
    addManualTip (cookingMethod: string, direction: string, tip: string, recipe: string): ()
        requires cookingMethod to be in list of cookingMethods associated with recipe, direction to be "up" or "down"
        effect adds a new tip record to the database

    addAITip (cookingMethod: string, direction: string, recipe: string): (tip: string)
        requires cookingMethod to be in list of cookingMethods associated with recipe, direction to be "up" or "down"
        effect prompts the LLM to return a tip record to the database

    removeTip (cookingMethod: string): ()
        requires cookingMethod to be in tips database
        effect removes all associated tips from the database

    getTips (cookingMethod: string, direction: string, recipe: string): (tips: List[string])
        requires cookingMethod to be in tips database along with direction and recipe
        effect returns the associated tips


concept User Authentication

purpose
    To provide secure mechanisms for users to register, log in, and log out of the application, establishing their identity.

principle A user registers with a unique username and password
          the user subsequently logs in with those credentials and they will be recognized as an authenticated user
          this enables them to access personalized features

state
    a set of users
        a username
        a password

    a set of sessions
        a user
        a session id
        an expiration time

actions
    register (username: String, password: String): (user: User)
        requires username must be unique. password must meet complexity requirements
        effect creates a new user with the given details

    login (username: String, password: String): (user: User, sessionId: String)
        requires username and password must be in set of users
        effect creates an active session for the user with the user id and a session id with a set expiration time

    logout (sessionId: String): ()
        requires sessionId must be an active session
        effect deletes the active session
</concept_spec>
```
