# Concept: Scaler

**Purpose**: Manages an instance of a Recipe being scaled by a certain factor. \
**Principle**: Given a recipe name, it uses an LLM with the entire recipe as context to scale the ingredients and stores the new version for later access.

### Core State
- **scaledRecipes**: A set of scaled recipes, each containing:
    - **name**: string
    - **servings**: number
    - **ingredients**: A set of ingredients

### Core Actions
- `scaleManually(name: string, targetPeople: number): Ingredient[]` - Scales ingredients linearly as a fallback.
    - *Requires*: `name` must exist in the recipe database and `targetPeople` cannot equal the recipe's original serving size.
    - *Effect*: Returns and stores a list of ingredients scaled linearly by the factor `targetPeople / originalServings`.
- `scaleRecipeAI(name: string, targetPeople: number): Ingredient[]` - Scales ingredients using an LLM for context-aware adjustments.
    - *Requires*: `name` must exist in the recipe database and `targetPeople` cannot equal the recipe's original serving size.
    - *Effect*: Uses an LLM to scale each ingredient, returns the new list, and stores it.
- `getScaledRecipe(name: string, targetPeople: number): Ingredient[]` - Retrieves a previously scaled recipe.
    - *Requires*: A scaled recipe with the specified `name` and `targetPeople` must already exist.
    - *Effect*: Returns the list of ingredients for the stored scaled recipe.

# Concept: Recipe

**Purpose**: Stores an original recipe. \
**Principle**: A recipe is manually inputted or uploaded with its original ingredients and serving size. It is then stored to be accessed by the Scaler.

### Core State
- **recipes**: A set of recipes, each containing:
    - **name**: string (must be unique)
    - **servings**: number
    - **cookingMethods**: A set of strings
    - **ingredients**: A set of ingredients, each with:
        - **quantity**: number
        - **unit**: string
        - **scalingContext**: string

### Core Actions
- `enterRecipe(name: string, originalPeople: number, ingredients: Ingredient[], cookingMethods: string[]): void` - Adds a new recipe to the database.
    - *Requires*: `name` must be unique.
    - *Effect*: A new recipe object is created and stored in the set of recipes.
- `removeRecipe(name: string): void` - Removes a recipe.
    - *Requires*: `name` must exist in the set of recipes.
    - *Effect*: Removes the specified recipe from the set of recipes.
- `getIngredients(name: string): Ingredient[]` - Retrieves the ingredients for a recipe.
    - *Requires*: `name` must exist in the set of recipes.
    - *Effect*: Returns the list of ingredients for the stored recipe.
- `getServings(name: string): number` - Retrieves the number of servings for a recipe.
    - *Requires*: `name` must exist in the set of recipes.
    - *Effect*: Returns the number of servings of the associated recipe.
- `getCookingMethods(name: string): string[]` - Retrieves the cooking methods for a recipe.
    - *Requires*: `name` must exist in the set of recipes.
    - *Effect*: Returns the list of cooking methods for the stored recipe.

# Concept: ScalingTips

**Purpose**: Manages and stores context-specific tips for scaling different cooking methods. üßë‚Äçüç≥ \
**Principle**: Given a cooking method, this concept generates tips on how to properly scale a recipe up or down. Tips can be added manually as a fallback or generated by an LLM for more nuanced advice.

### Core State
- **tipsDatabase**: A map where keys are cooking methods (e.g., "Baking", "Frying") and values are a set of associated tips. Each tip record contains:
    - **tip**: string
    - **direction**: string ("up" or "down")
    - **recipeContext**: string (optional name of the associated recipe)

### Core Actions
- `addManualTip(cookingMethod: string, direction: string, tip: string, recipe: string): void` - Manually adds a new scaling tip to the database.
    - **Requires**: The `cookingMethod` must be valid for the given `recipe`, and `direction` must be either "up" or "down".
    - **Effect**: A new tip record is created and stored.
- `addAITip(cookingMethod: string, direction: string, recipe: string): string` - Uses an LLM to generate and store a new scaling tip.
    - **Requires**: The `cookingMethod` must be valid for the given `recipe`, and `direction` must be either "up" or "down".
    - **Effect**: Prompts an LLM for a relevant tip, stores it in the database, and returns the generated tip string.
- `removeTip(cookingMethod: string): void` - Removes all tips associated with a specific cooking method.
    - **Requires**: The `cookingMethod` must exist as a key in the tips database.
    - **Effect**: Removes the cooking method and all of its associated tips from the database.
- `getTip(cookingMethod: string, direction: string, recipe: string): string` - Retrieves a specific tip from the database.
    - **Requires**: A tip matching the `cookingMethod`, `direction`, and `recipe` must exist in the database.
    - **Effect**: Returns the matching tip string.